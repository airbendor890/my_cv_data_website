<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>4c4ecd2097794bf5a92ddf5e769dcbe4</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="center">
<p><span style="color: orange"><span><strong><span>Thera Bank Credit
Card Service</span></strong></span></span></p>
</div>
<h1 id="business-context">Business context</h1>
<p>The Thera bank recently saw a steep decline in the number of users of
their credit card, credit cards are a good source of income for banks
because of different kinds of fees charged by the banks like annual
fees, balance transfer fees, and cash advance fees, late payment fees,
foreign transaction fees, and others. Some fees are charged to every
user irrespective of usage, while others are charged under specified
circumstances.</p>
<p>Customers’ leaving credit card services would lead the bank to loss.
By leveraging data-driven insights, Thera Bank can enhance its credit
card services, address customer concerns, and ultimately reduce the rate
of attrition. This proactive approach not only helps in retaining
existing customers but also strengthens the bank’s competitive position
in the market.</p>
<h1 id="exploratory-data-analysis">Exploratory Data Analysis</h1>
<h2 id="data-set-description">Data set description</h2>
<figure>
<img src="dataset.png" id="fig:dataset"
alt="A snapshot of data set used for analysis." />
<figcaption aria-hidden="true">A snapshot of data set used for
analysis.</figcaption>
</figure>
<p>We have been provided with a dataset consisting of Ther Bank’s
customer’s credit card usage details and also with some of their
background with the target field of whether the customer has
attrited/inactive. The details of each field is described as
follows:</p>
<p>CLIENTNUM: Client number. Unique identifier for the customer holding
the account. Attrition_Flag: Internal event (customer activity) variable
- if the account is closed then "Attrited Customer" else "Existing
Customer". Customer_Age: Age in years. Gender: Gender of the account
holder. Dependent_count: Number of dependents. Education_Level:
Educational qualification of the account holder - Graduate, High School,
Unknown, Uneducated, College (refers to college student), Post-Graduate,
Doctorate. Marital_Status: Marital status of the account holder.
Income_Category: Annual income category of the account holder.
Card_Category: Type of card. Months_on_book: Period of relationship with
the bank (in months). Total_Relationship_Count: Total number of products
held by the customer. Months_Inactive_12_mon: Number of months inactive
in the last 12 months. Contacts_Count_12_mon: Number of contacts in the
last 12 months. Credit_Limit: Credit limit on the credit card.
Total_Revolving_Bal: Total revolving balance on the credit card. This
represents the balance that carries over from one month to the next on a
credit card. It’s the amount that remains unpaid at the end of the
billing cycle and is carried forward to the next month. Avg_Open_To_Buy:
Open to buy credit line (average of last 12 months). This is the average
amount of credit available to use on the credit card over the last 12
months. It indicates how much credit is left after accounting for the
current balance. Total_Amt_Chng_Q4_Q1: Change in transaction amount (Q4
over Q1). This is the ratio of the total transaction amount in the 4th
quarter to the total transaction amount in the 1st quarter. It indicates
how the transaction amount has changed between these two periods.
Total_Trans_Amt: Total transaction amount (last 12 months). This is the
total amount of all transactions made using the credit card over the
last 12 months. It includes all purchases, payments, and other
transactions. Total_Trans_Ct: Total transaction count (last 12 months).
This is the total count of all transactions made using the credit card
over the last 12 months. It reflects the frequency of card usage.
Total_Ct_Chng_Q4_Q1: Change in transaction count (Q4 over Q1). This is
the ratio of the total transaction amount in the 4th quarter to the
total transaction amount in the 1st quarter. It indicates how the
transaction amount has changed between these two periods.
Avg_Utilization_Ratio: Average card utilization ratio. This represents
the average utilization of the available credit over a period. It shows
how much of the available credit the customer has used, on average.
There are total 21 columns or fields. CLIENTNUM consists of unique IDs
for clients and hence will not add value to the modeling. Therefore we
have dropped it from our analysis. Total number of rows are 10,127 among
which we did not find any duplicated records in the data set. But there
were some irregular and missing values in the data set which We will
describe in the data preprocessing section. Let’s proceed to exploratory
analysis with basic plots which will give us important insights.</p>
<h2 id="exploratory-analysis">Exploratory analysis</h2>
<p>As shown in figure <a href="#fig:Categorical variable profile"
data-reference-type="ref"
data-reference="fig:Categorical variable profile">[fig:Categorical
variable profile]</a> We have plotted distribution in various
categorival variable. We observe that the whole data set has an
attrition rate of around 16 %. There are various groups of income level.
Less than 40K category has highest percentage of customers as shown in
<a href="#fig:Income_Category" data-reference-type="ref"
data-reference="fig:Income_Category">3</a>. The ’abc’ value has been
treated appropriately before the model building. Most of the customers
have dependents on them with 2 and 3 being higher mode as shown in
figure <a href="#fig:Dependent_count" data-reference-type="ref"
data-reference="fig:Dependent_count">4</a>. Among the various available
credit card types, ’Blue’ is the most preferred one. Gold, Platinum an
Silver are used very scarcely, figure <a href="#fig:Card_Category"
data-reference-type="ref" data-reference="fig:Card_Category">5</a>. More
than 85 % of customers have some form of education with lowest being
high school and highest being a doctorate. 1487 did not have any
education as shown in figure <a href="#fig:Education_Level"
data-reference-type="ref" data-reference="fig:Education_Level">6</a>.
There are around 400 customer who did not have any contact with the bank
in last 12 months. More than 85% of customers have at least 2 contacts
with the bank in last 12 months, figure <a
href="#fig:Contacts_Count_12_mon" data-reference-type="ref"
data-reference="fig:Contacts_Count_12_mon">7</a>.</p>
<figure>
<img src="Attrition_Flag.png" id="fig:Attrition_Flag" style="height:6cm"
alt="Attrition Rate in our dataset." />
<figcaption aria-hidden="true">Attrition Rate in our
dataset.</figcaption>
</figure>
<figure>
<img src="Income_Category.png" id="fig:Income_Category"
style="height:6cm" alt="Income distribution in customers." />
<figcaption aria-hidden="true">Income distribution in
customers.</figcaption>
</figure>
<figure>
<img src="Dependent_count.png" id="fig:Dependent_count"
style="height:6cm" alt="Dependent count distribution." />
<figcaption aria-hidden="true">Dependent count
distribution.</figcaption>
</figure>
<figure>
<img src="Card_Category.png" id="fig:Card_Category" style="height:6cm"
alt="preferences over Card Categories." />
<figcaption aria-hidden="true">preferences over Card
Categories.</figcaption>
</figure>
<figure>
<img src="Education_Level.png" id="fig:Education_Level"
style="height:6cm" alt="Education Level background among customers" />
<figcaption aria-hidden="true">Education Level background among
customers</figcaption>
</figure>
<figure>
<img src="Contacts_Count_12_mon.png" id="fig:Contacts_Count_12_mon"
style="height:6cm"
alt="Contacts Count in last 12 months made by the customers with the bank." />
<figcaption aria-hidden="true">Contacts Count in last 12 months made by
the customers with the bank.</figcaption>
</figure>
<p>Figure <a href="#fig:stackplot_wrt_target" data-reference-type="ref"
data-reference="fig:stackplot_wrt_target">[fig:stackplot_wrt_target]</a>
shows stacked bar plots of categorical variables with respect to
attrition flag of 0 or 1. The stacked bar chart in <a
href="#fig:Attrition_Flag vs Total_Relationship_Count"
data-reference-type="ref"
data-reference="fig:Attrition_Flag vs Total_Relationship_Count">8</a>
illustrates the distribution of two categories (0 and 1) across
different values of "Total_Relationship_Count." The x-axis represents
the "Total_Relationship_Count" with values ranging from 1 to 6, while
the y-axis shows the proportion of each category, ranging from 0 to 1.
The blue segments represent category 0, and the orange segments
represent category 1. "Total_Relationship_Count" increases, the
proportion of category 0 (blue) generally increases, while the
proportion of category 1 (orange) decreases. Customers with higher
"Total_Relationship_Count" (values 5 and 6) are predominantly in
category 0, indicating that customers with more products held are less
likely to attrition. Conversely, customers with fewer products are more
likely to attrition. The chart on "<a
href="#fig:Attrition_Flag vs Months_Inactive_12_mon"
data-reference-type="ref"
data-reference="fig:Attrition_Flag vs Months_Inactive_12_mon">9</a>
illustrates the distribution of two categories (0 and 1) across
different values of "Months_Inactive_12_mon. This plot is little bit
deceiving as the pattern is bit mixed. Although customers with no
inactive months are more likely to attrition but in our data set there
are very few such customers. Among 1,2 and 3 which has highest
frequencies, the pattern is more clear. The attrition rate increases
from 1 to 3. The chart on <a
href="#fig:Attrition_Flag vs Contacts_Count_12_mon"
data-reference-type="ref"
data-reference="fig:Attrition_Flag vs Contacts_Count_12_mon">10</a>
illustrates the distribution of two categories (0 and 1) across
different counts of contacts in the last 12 months
(Contacts_Count_12_mon). Here the pattern is quite clear. Customers with
higher contact counts (values3, 4, 5 and 6) have higher portion in
category 1, indicating that more frequent contact is associated with
attrition category. In fact the customers(total 54) who have contacted 6
times last year have all attrited.</p>
<figure>
<img src="Attrition_Flag vs Total_Relationship_Count.png"
id="fig:Attrition_Flag vs Total_Relationship_Count"
style="height:5cm" />
</figure>
<figure>
<img src="Attrition_Flag vs Months_Inactive_12_mon.png"
id="fig:Attrition_Flag vs Months_Inactive_12_mon" style="height:5cm" />
</figure>
<figure>
<img src="Attrition_Flag vs Contacts_Count_12_mon.png"
id="fig:Attrition_Flag vs Contacts_Count_12_mon" style="height:5cm" />
</figure>
<figure>
<img src="Attrition_Flag vs Gender.png"
id="fig:Attrition_Flag vs Gender" style="height:5cm" />
</figure>
<figure>
<img src="Attrition_Flag vs Income_Category.png"
id="fig:Attrition_Flag vs Income_Category" />
</figure>
<figure>
<img src="Attrition_Flag vs Dependent_count.png"
id="fig:Attrition_Flag vs Dependent_count" style="height:5cm" />
</figure>
<p>Similar charts on figure <a href="#fig:Attrition_Flag vs Gender"
data-reference-type="ref"
data-reference="fig:Attrition_Flag vs Gender">11</a>, <a
href="#fig:Attrition_Flag vs Income_Category" data-reference-type="ref"
data-reference="fig:Attrition_Flag vs Income_Category">12</a>, <a
href="#fig:Attrition_Flag vs Dependent_count" data-reference-type="ref"
data-reference="fig:Attrition_Flag vs Dependent_count">13</a> shows the
attrition prevalence with respect to gender, income category and
Dependent count. In these the differences are not significantly
pronounced. Yet it is worth while to note that Females have slightly
higher attrition ratio and the high earners ( more than 120K ) and low
earners (less than 40K) have slightly higher attrition ratio.</p>
<figure>
<img src="Total_Trans_Ct vs Attrition_Flag.png"
id="fig:Total_Trans_Ct vs Attrition_Flag"
alt="Histogram and boxplot of Total transaction count w.r.t attrition flag" />
<figcaption aria-hidden="true">Histogram and boxplot of Total
transaction count w.r.t attrition flag</figcaption>
</figure>
<figure>
<img src="Total_Trans_Amt vs Attrition_Flag.png"
id="fig:Total_Trans_Amt vs Attrition_Flag"
alt="Histogram and boxplot Total transaction amount w.r.t attrition flag" />
<figcaption aria-hidden="true">Histogram and boxplot Total transaction
amount w.r.t attrition flag</figcaption>
</figure>
<figure>
<img src="Total_Ct_Chng_Q4_Q1 vs Attrition_Flag.png"
id="fig:Total_Ct_Chng_Q4_Q1 vs Attrition_Flag"
alt="Histogram and boxplot of transaction count change ratio from Q4 to Q1 w.r.t attrition flag" />
<figcaption aria-hidden="true">Histogram and boxplot of transaction
count change ratio from Q4 to Q1 w.r.t attrition flag</figcaption>
</figure>
<figure>
<img src="Attrition_Flag vs Customer_Age.png"
id="fig:Attrition_Flag vs Customer_Age"
alt="Histogram and boxplot customer age w.r.t attrition flag" />
<figcaption aria-hidden="true">Histogram and boxplot customer age w.r.t
attrition flag</figcaption>
</figure>
<p>The figure on <a
href="#fig: Distribution of numerical variables with respect attrition flag"
data-reference-type="ref"
data-reference="fig: Distribution of numerical variables with respect attrition flag">[fig:
Distribution of numerical variables with respect attrition flag]</a>
shows distribution of numerical variables with respect to attrition
flag. The plot on <a href="#fig:Total_Trans_Ct vs Attrition_Flag"
data-reference-type="ref"
data-reference="fig:Total_Trans_Ct vs Attrition_Flag">14</a> consists of
four sub plots that analyze the distribution and box plots of the
variable "Total_Trans_Ct" with respect to the target variable
"Attrition_Flag." The boxplot on bottom right shows the distribution of
"Total_Trans_Ct" with respect to the target variable "Attrition_Flag"
without outliers. The boxplot for target=0 shows a higher median and a
wider interquartile range compared to target=1, but without the
influence of outliers. This means attrited customers have lower median
total transaction count. This same story is also seen in the plot with
respect to total transaction amount in figure <a
href="#fig:Total_Trans_Amt vs Attrition_Flag" data-reference-type="ref"
data-reference="fig:Total_Trans_Amt vs Attrition_Flag">15</a>. Similarly
figure <a href="#fig:Total_Ct_Chng_Q4_Q1 vs Attrition_Flag"
data-reference-type="ref"
data-reference="fig:Total_Ct_Chng_Q4_Q1 vs Attrition_Flag">16</a> shows
that attrited customers generally have lower ratio of Q4 to Q1
transaction signifying that their transaction amount quarter over
quarter has decreased.</p>
<h2 id="data-pre-processing">Data pre-processing</h2>
<p>There were outliers in numerical variables. Credit Limit field had
highest number of outliers, around 9.7 %. But no action is done on them
as all of them are valid data records from the bank. The anomalous
values in the income category was replaced with NaN. Then all the
NaN/missing values were treated by imputer with strategy as most
frequent. This means that the imputer replaced missing values in each
column with the most frequent (mode) value of that column. This approach
is particularly useful for categorical data, where the most common
category can be a reasonable guess for missing values. It helps in
maintaining the integrity of the dataset by filling in gaps with the
most likely values based on the existing data. But note that before this
operation the data set was already partitioned into training, validation
and test data sets to avoid any data leakage. Data leakage occurs when
information from outside the training dataset is used to create the
model, leading to overly optimistic performance estimates. This can
happen if data that would not be available at prediction time is
included in the training process, such as future data or target labels.
To prevent data leakage, it’s crucial to carefully separate training and
validation datasets and ensure that only information available at
prediction time is used during model training. Data transformations
should be applied separately to the training and validation sets to
avoid inadvertently leaking information from one to the other. Also the
categorical field encoding was done separately on each partition.</p>
<h1 id="model-building">Model Building</h1>
<p>We have tried following models on our data set before hyper parameter
tuning:</p>
<ul>
<li><p>Bagging Classifier</p></li>
<li><p>Random Forest Classifier</p></li>
<li><p>Gradient Boosting Classifier</p></li>
<li><p>AdaBoost Classifier</p></li>
<li><p>Decision Tree Classifier</p></li>
<li><p>XGB Classifier</p></li>
</ul>
<p>Before we describe the implemented models, we should reflect on our
motivation behind how we evaluate these models pertaining to the
business problem at our hand. make it 150 words In predicting customer
attrition, a model can make two types of errors: predicting a customer
will leave when they stay, and predicting a customer will stay when they
leave. The latter is more critical for banks, as it involves losing
valuable customers. To reduce this loss, the focus should be on
minimizing false negatives by maximizing recall. Higher recall means
more at-risk customers are correctly identified, allowing the bank to
take action to retain them. By prioritizing recall, the bank can better
identify and retain customers who are at risk of leaving.</p>
<p>To mitigate this loss, it is essential to focus on reducing false
negatives. One effective approach is to maximize the recall of the
model. Recall measures the proportion of actual positives (customers who
will attrite) that are correctly identified by the model. By increasing
recall, the bank can ensure that more at-risk customers are accurately
identified, allowing for targeted retention efforts.</p>
<p>As shown in figure <a href="#fig:Model Building - Original Data"
data-reference-type="ref"
data-reference="fig:Model Building - Original Data">18</a>, let’s
summarize these model’s performance on training and validation set of
Original Data. Random forest, Decision tree and XGB performs perfectly
and Bagging close to 98% on the training set. While on the validation
set their performances are 79%, 81%, 90% and 81 % respectively. This
shows that theses model are performing in over fit region on original
data set. GBM and Adaboost on the other hand are doing better on
generalization, Both performing around 85% on the Validation similar to
the training.</p>
<h2 id="model-building---with-over-sampling-and-under-sampling">Model
Building - with over sampling and under sampling</h2>
<p>In classification problems, imbalanced datasets are common, where the
minority class is more significant than the majority class. Handling
these datasets effectively is crucial for building robust predictive
models. Specialized techniques can address this imbalance, ensuring
accurate identification of the minority class. Methods like oversampling
the minority class, undersampling the majority class, or using
algorithms designed for imbalance can improve model performance. By
focusing on these techniques, one can develop a predictive model that is
both accurate and reliable, even with imbalanced data. This approach
ensures that the minority class, often more valuable, is correctly
identified and addressed. We have used SMOTE method to build oversampled
data set. SMOTE (Synthetic Minority Oversampling TEchnique) synthesizes
new elements for the minority class by randomly selecting a point and
computing its k-nearest neighbors. Synthetic points are then added
between the chosen point and its neighbors, effectively balancing the
dataset and improving model performance on imbalanced data. For under
sampling we have used Random under sampler which randomly selects a
subset of the majority class to match the number of samples in the
minority class.</p>
<figure>
<img src="Model Building - Original Data.png"
id="fig:Model Building - Original Data" style="height:6cm"
alt="Model Building performance - Original Data" />
<figcaption aria-hidden="true">Model Building performance - Original
Data</figcaption>
</figure>
<figure>
<img src="Model Building - Oversampled Data.png"
id="fig:Model Building - Oversampled Data" style="height:6cm"
alt="Model Building performance - Over sampled Data" />
<figcaption aria-hidden="true">Model Building performance - Over sampled
Data</figcaption>
</figure>
<figure>
<img src="Model Building - Undersampled Data.png"
id="fig:Model Building - Undersampled Data" style="height:6cm"
alt="Model Building performance - Under sampled Data" />
<figcaption aria-hidden="true">Model Building performance - Under
sampled Data</figcaption>
</figure>
<p>we observe in figure <a href="#fig:Model Building - Oversampled Data"
data-reference-type="ref"
data-reference="fig:Model Building - Oversampled Data">19</a> and <a
href="#fig:Model Building - Undersampled Data" data-reference-type="ref"
data-reference="fig:Model Building - Undersampled Data">20</a> that all
the models are performing better on the oversampled and undersampled
data set compared to the original data. Also the overfitting issue has
improved compared to the original data. Among these we find that XGB is
performing with best accuracy of 96.9% on the undersampled dataset
followed by Adaboost with 96% on the same.</p>
<h2 id="model-performance-improvement-using-hyperparameter-tuning">Model
Performance Improvement using Hyperparameter Tuning</h2>
<p>Hyperparameter tuning is the process of optimizing the parameters
that control the behavior of a machine learning algorithm. Unlike model
parameters, hyperparameters are set before training and influence how
the model learns from data. Effective tuning can significantly improve
model performance. Techniques like GridSearchCV and RandomizedSearchCV
are commonly used to explore different hyperparameter combinations.
GridSearchCV exhaustively searches through a specified parameter grid,
while RandomizedSearchCV samples a specified number of parameter
settings from a distribution. The goal is to find the best
hyperparameter values that maximize the model’s performance on
validation data, ensuring robust and accurate predictions.</p>
<p>In this analysis, we have employed RandomizedSearchCV on the
following scenarios:</p>
<div class="multicols">
<p><span>2</span></p>
<ul>
<li><p>Tuning AdaBoost using original data</p></li>
<li><p>Tuning Ada Boost using undersampled data</p></li>
<li><p>Tuning Gradient Boosting using undersampled data</p></li>
</ul>
<ul>
<li><p>Tuning Gradient Boosting using original data</p></li>
<li><p>Tuning Gradient Boosting using over sampled data</p></li>
<li><p>Tuning XGBoost Model with Original data</p></li>
</ul>
</div>
<h2 id="model-performance-comparison-and-final-model-selection">Model
Performance Comparison and Final Model Selection</h2>
<p>The performance of the tuned models are summarized in figure <a
href="#fig:Training performance comparison" data-reference-type="ref"
data-reference="fig:Training performance comparison">21</a> and <a
href="#fig:Validation performance comparison" data-reference-type="ref"
data-reference="fig:Validation performance comparison">22</a> for four
good result scenarios. We see that on the training set all the four
tuned models have accuracy greater than 97%. XGBoost is giving perfect
result for recall which brings it into the attention of overfitting.
Though compared to the previous models, these tuned models are
relatively safer in terms of overfitting as we see that in the
validation set these are also performing nicely in terms of accuracy and
recall. Gradient Boosting trained with original data shows the highest
accuracy, precision, and F1 score, making it highly effective in
identifying relevant instances accurately. AdaBoost trained with
undersampled data has the highest recall 96.6 %, indicating it is
effective in identifying most default instances, But it’s precision is
only 72.9 %. XGBoost trained with original data performs consistently
well across all metrics (recall 94.2 %, precision 83%), making it a
reliable choice among all.</p>
<figure>
<img src="Training performance comparison.png"
id="fig:Training performance comparison"
alt="Training performance comparison." />
<figcaption aria-hidden="true">Training performance
comparison.</figcaption>
</figure>
<figure>
<img src="Validation performance comparison.png"
id="fig:Validation performance comparison"
alt="Validation performance comparison." />
<figcaption aria-hidden="true">Validation performance
comparison.</figcaption>
</figure>
<figure>
<img src="feature_importance.png" id="fig:feature_importance"
style="width:70.0%"
alt="Feature importance from final model(First 10)." />
<figcaption aria-hidden="true">Feature importance from final model(First
10).</figcaption>
</figure>
<p>For choosing the final model our motivation is primarily based on
higher recall rate. But we se that for 2 point difference in recal
between AdaBoost trained with undersampled data and XGBoost trained with
original data we have a trade of 11 points on the precision. If the 2
points difference in recall is heavier in terms of cost we should choose
the AdaBoost trained with undersampled data. For now we recommend this
model for the final one. But XGBoost trained with original can also be
used along side.</p>
<p>On the test data set AdaBoost trained with undersampled data has
following results on the metric : accuracy - 93.4 %, Recall - 96.9%,
Precision - 71.8 %, F1 - 82.5 %. The Recall is very good which was our
desire for the model building. Also since the test results are not very
different from the validation set we can conclude that the model has
done well generalization.</p>
<p>We have shown in figure <a href="#fig:feature_importance"
data-reference-type="ref"
data-reference="fig:feature_importance">23</a>, the feature importance
generated from this final model for the first 10 features. We observe
that Total trasaction amount has the highest weight/importance in
determining attrition prediction.</p>
<h1 id="actionable-insights-and-recommendations">Actionable insights and
Recommendations</h1>
<h2 id="actionable-insights">Actionable insights</h2>
<ol>
<li><p>There is 16% total attrition rate in credit card service provided
by thera bank. Since our focus is on retaining attriting customers.
let’s summarize the pattern among these customers.</p></li>
<li><p>Customers with relationship count are more likely to
attrition.</p></li>
<li><p>Among 1,2 and 3 months of inactivity the probability of attrition
increase from 1 to 3 with high confidence.</p></li>
<li><p>Customers with higher contact count in last 12 months are more
likely to attrit.</p></li>
<li><p>Females have slightly higher attrition ratio and the high earners
( more than 120K ) and low earners (less than 40K) have slightly higher
attrition ratio.</p></li>
<li><p>Attrited customers have significant lower median total
transaction count and total transaction amount.</p></li>
<li><p>Attrited customers generally have lower ratio of Q4 to Q1
transaction signifying that their transaction amount and count quarter
over quarter has decreased.</p></li>
<li><p>Attrited customers have lower median Average utilization
ratio.</p></li>
<li><p>After model building the Adaboost model trained with undersampled
data has been shown to provide highest Recall of 96.9 %. This is chosen
as final model.</p></li>
<li><p>Based on the final model, Total transaction amount, Total
transaction count, Total Revolving Balance, Total Amount and count
change Q4 to Q1 are five most important features which have highest
weight in determining whether the customer will attrit.</p></li>
<li><p>Most of the credit card are type ’Blue’. There is very low
preference among other types like ’platinum’, ’silver’, ’gold’.</p></li>
</ol>
<h2 id="business-recommendations">Business Recommendations</h2>
<ol>
<li><p>Make other services of bank highly attractive to customers as
well to increase relationship count with the bank. Special efforts
should be made to let customers know about all kinds of services from
bank and it’s benefits.</p></li>
<li><p>More incentive can be give to females e.g cashback and offers
during festival or Big billion days offer for reducing attrition rate
among them. This apply to males as well.</p></li>
<li><p>Total trasaction count and amount and quartely changes are very
good predictors of attrition rate. Should these decline among any
customers, they should be contacted by the agents via whats app or other
online method for feedback. AI bots can also be used for these
interaction based on the data on server.</p></li>
<li><p>Take actions to diversify preference in credit card types.
Customers are choosing ’Blue’ type only. That means other types are not
very attractive in features which needs improvement. At least study
should be done on why those other types are not preferred among
customers.</p></li>
<li><p>Customers with 2 or 3 months of inactivity should be reminded by
online method and their feed backs should be taken whether they are
facing any issues.</p></li>
<li><p>Use of Final model for decision making while credit card approval
is recommended.</p></li>
</ol>
<section id="end-of-report-submitted-by-haraprasad-dhal"
class="unnumbered centering">
<h2 class="unnumbered">End of Report<br />
Submitted by : Haraprasad Dhal</h2>
</section>
<h1 id="appendix">Appendix</h1>
<h2 id="further-exploratory-plots">Further exploratory plots</h2>
<figure>
<img src="Total_Revolving_Bal vs Attrition_Flag.png"
id="fig:Total_Revolving_Bal vs Attrition_Flag"
alt="Histogram and boxplot of Total_Revolving_Balance w.r.t attrition flag" />
<figcaption aria-hidden="true">Histogram and boxplot of
Total_Revolving_Balance w.r.t attrition flag</figcaption>
</figure>
<figure>
<img src="Attrition_Flag vs Credit_Limit.png"
id="fig:Attrition_Flag vs Credit_Limit"
alt="Histogram and boxplot of Credit_Limit amount w.r.t attrition flag" />
<figcaption aria-hidden="true">Histogram and boxplot of Credit_Limit
amount w.r.t attrition flag</figcaption>
</figure>
<figure>
<img src="Avg_Utilization_Ratio vs Attrition_Flag.png"
id="fig:Avg_Utilization_Ratio vs Attrition_Flag"
alt="Histogram and boxplot of Avg_Utilization_Ratio w.r.t attrition flag" />
<figcaption aria-hidden="true">Histogram and boxplot of
Avg_Utilization_Ratio w.r.t attrition flag</figcaption>
</figure>
<figure>
<img src="Attrition_Flag vs Months_on_book.png"
id="fig:Attrition_Flag vs Months_on_book"
alt="Histogram and boxplot Months_on_book w.r.t attrition flag" />
<figcaption aria-hidden="true">Histogram and boxplot Months_on_book
w.r.t attrition flag</figcaption>
</figure>
<figure>
<img src="corr.png" id="fig:corr" style="width:80.0%"
alt="Correlation among numerical variables." />
<figcaption aria-hidden="true">Correlation among numerical
variables.</figcaption>
</figure>
</body>
</html>
